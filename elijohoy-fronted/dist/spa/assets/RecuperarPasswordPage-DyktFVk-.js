import{d as g,a as m,o as u,w as a,r as p,ag as b,h as t,f as o,P as x,S as v,i as n,Y as y,Q as c,U as h,k as f}from"./index-DMIoiHky.js";import{Q as q}from"./QForm-yK8YQq4a.js";import{Q as P}from"./QPage-CSPaHL7l.js";import{u as Q}from"./use-quasar-CcvVVbOI.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S=g({name:"RecuperarPasswordPage",setup(){const s=Q(),e=p(""),i=p(!1),d=p(!1);return{email:e,loading:i,emailSent:d,recoverPassword:async()=>{i.value=!0;try{const l=await b.sendPasswordReset(e.value);l.success?(d.value=!0,s.notify({message:"Instrucciones enviadas exitosamente",color:"positive",icon:"check_circle",position:"top"})):s.notify({message:l.message||"Error al enviar las instrucciones",color:"negative",icon:"error",position:"top"})}catch(l){console.error("Recover password error:",l),s.notify({message:"Error de conexión. Por favor intenta nuevamente.",color:"negative",icon:"error",position:"top"})}finally{i.value=!1}}}}}),k={class:"recover-container"},C={class:"recover-icon-wrapper q-mb-lg"},V={class:"success-icon-wrapper q-mb-md"},E={class:"text-h6 text-yellow-9 text-weight-bold q-mb-lg"},I={class:"text-body2 text-white-7 q-pa-md bg-white-5 rounded-borders"},$={class:"text-body2 text-white"},z={class:"text-center q-mt-md"};function N(s,e,i,d,w,l){return u(),m(P,{class:"recover-page"},{default:a(()=>[t("div",k,[o(x,{class:"recover-card glass-card"},{default:a(()=>[s.emailSent?(u(),m(v,{key:1,class:"text-center"},{default:a(()=>[t("div",V,[o(n,{name:"mark_email_read",size:"64px",color:"white"})]),e[6]||(e[6]=t("div",{class:"text-h4 text-weight-bold text-white q-mb-sm"}," ¡Correo Enviado! ",-1)),e[7]||(e[7]=t("div",{class:"text-body1 text-white-7 q-mb-md"}," Hemos enviado las instrucciones para restablecer tu contraseña a ",-1)),t("div",E,h(s.email),1),t("div",I,[o(n,{name:"info",size:"20px",class:"q-mr-xs"}),e[5]||(e[5]=f(" Si no recibes el correo en unos minutos, revisa tu carpeta de spam o intenta nuevamente. ",-1))]),o(c,{unelevated:"",color:"yellow-9","text-color":"purple-10",label:"Enviar Nuevamente",icon:"refresh",class:"full-width q-mt-md btn-gradient",onClick:e[1]||(e[1]=r=>s.emailSent=!1),"no-caps":""})]),_:1})):(u(),m(v,{key:0,class:"text-center"},{default:a(()=>[t("div",C,[o(n,{name:"help",size:"52px",color:"white"})]),e[2]||(e[2]=t("div",{class:"text-h4 text-weight-bold text-white q-mb-sm"}," ¿Olvidaste tu contraseña? ",-1)),e[3]||(e[3]=t("div",{class:"text-h6 text-weight-medium text-yellow-9 q-mb-sm"}," No te preocupes ",-1)),e[4]||(e[4]=t("div",{class:"text-body1 text-white-7 q-mb-lg"}," Ingresa tu correo electrónico y te enviaremos las instrucciones para crear una nueva contraseña ",-1)),o(q,{onSubmit:s.recoverPassword,class:"q-gutter-md"},{default:a(()=>[o(y,{modelValue:s.email,"onUpdate:modelValue":e[0]||(e[0]=r=>s.email=r),type:"email",label:"Correo Electrónico",outlined:"",color:"purple-7",rules:[r=>!!r||"El correo es requerido",r=>/.+@.+\..+/.test(r)||"Correo inválido"],"lazy-rules":"",class:"modern-input"},{prepend:a(()=>[o(n,{name:"email",color:"purple-7"})]),_:1},8,["modelValue","rules"]),o(c,{unelevated:"",type:"submit",size:"lg",color:"yellow-9","text-color":"purple-10",label:"Enviar Instrucciones","icon-right":"send",class:"full-width btn-gradient text-weight-bold",loading:s.loading,"no-caps":""},null,8,["loading"])]),_:1},8,["onSubmit"])]),_:1})),o(v,{class:"text-center q-pt-md"},{default:a(()=>[t("div",$,[e[8]||(e[8]=f(" ¿Recordaste tu contraseña? ",-1)),o(c,{flat:"","no-caps":"",color:"yellow-9",label:"Volver al login",to:"/auth/login",dense:"",class:"text-weight-bold"})])]),_:1})]),_:1}),t("div",z,[o(c,{flat:"","no-caps":"",color:"white",label:"Volver al Inicio",to:"/",icon:"arrow_back"})])])]),_:1})}const F=_(S,[["render",N],["__scopeId","data-v-5a43f041"]]);export{F as default};
