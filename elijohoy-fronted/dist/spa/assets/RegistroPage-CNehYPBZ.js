import{S as et,U as he,V as Qe,x as ve,r as T,B as S,n as Ne,H as ze,j as tt,R as ot,p as L,i as I,W as nt,X as at,Y as lt,G as fe,m as me,Z as we,_ as Pe,C as le,$ as st,a0 as rt,F as pe,a1 as it,a2 as ut,a3 as ye,a4 as ne,a5 as Ce,a6 as ct,a7 as ie,a8 as Be,a9 as dt,T as ft,aa as vt,ab as mt,q as pt,y as bt,ac as gt,d as ht,a as wt,o as yt,w as m,L as Ct,N as ae,M as qt,h as f,f as l,I as Tt,J as ue,O as W,k as ce,K as Pt,Q as Y,P as St,ad as kt}from"./index-FQbhSSz1.js";import{Q as Vt}from"./QResizeObserver-B_BdTiGf.js";import{r as At,Q as de}from"./QSelect-Lg6ai8MX.js";import{Q as De,a as Me}from"./QItem-QYqobo8h.js";import{g as Ee,s as xe}from"./touch-BjYP5sR0.js";import{c as Rt}from"./selection-B9H5g_ok.js";import{Q as $t}from"./QPage-DPta7qzB.js";import{_ as _t}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QChip-ClphmnYD.js";import"./QMenu-BelHDkCR.js";import"./position-engine-HYe-1gGR.js";import"./format-BvkBI9bc.js";let It=0;const Lt=["click","keydown"],Bt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${It++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Dt(e,t,p,c){const d=et(Qe,he);if(d===he)return console.error("QTab/QRouteTab component needs to be child of QTabs"),he;const{proxy:n}=ve(),o=T(null),C=T(null),g=T(null),D=S(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),h=S(()=>d.currentModel.value===e.name),B=S(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(h.value===!0?" q-tab--active"+(d.tabProps.value.activeClass?" "+d.tabProps.value.activeClass:"")+(d.tabProps.value.activeColor?` text-${d.tabProps.value.activeColor}`:"")+(d.tabProps.value.activeBgColor?` bg-${d.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&d.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||d.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),w=S(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(d.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),k=S(()=>e.disable===!0||d.hasFocus.value===!0||h.value===!1&&d.hasActiveTab.value===!0?-1:e.tabindex||0);function A(v,_){if(_!==!0&&v?.qAvoidFocus!==!0&&o.value?.focus(),e.disable!==!0){d.updateModel({name:e.name}),p("click",v);return}}function M(v){at(v,[13,32])?A(v,!0):lt(v)!==!0&&v.keyCode>=35&&v.keyCode<=40&&v.altKey!==!0&&v.metaKey!==!0&&d.onKbdNavigate(v.keyCode,n.$el)===!0&&fe(v),p("keydown",v)}function N(){const v=d.tabProps.value.narrowIndicator,_=[],E=L("div",{ref:g,class:["q-tab__indicator",d.tabProps.value.indicatorClass]});e.icon!==void 0&&_.push(L(I,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&_.push(L("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&_.push(e.alertIcon!==void 0?L(I,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):L("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),v===!0&&_.push(E);const O=[L("div",{class:"q-focus-helper",tabindex:-1,ref:o}),L("div",{class:w.value},nt(t.default,_))];return v===!1&&O.push(E),O}const U={name:S(()=>e.name),rootRef:C,tabIndicatorRef:g,routeData:c};Ne(()=>{d.unregisterTab(U)}),ze(()=>{d.registerTab(U)});function j(v,_){const E={ref:C,class:B.value,tabindex:k.value,role:"tab","aria-selected":h.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:A,onKeydown:M,..._};return tt(L(v,E,N()),[[ot,D.value]])}return{renderTab:j,$tabs:d}}const qe=me({name:"QTab",props:Bt,emits:Lt,setup(e,{slots:t,emit:p}){const{renderTab:c}=Dt(e,t,p);return()=>c("div")}});function Mt(e,t,p){const c=p===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?c[0]:c[1]}${e?` text-${e}`:""}`}const Et=["left","center","right","justify"],xt=me({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Et.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:p}){const{proxy:c}=ve(),{$q:d}=c,{registerTick:n}=we(),{registerTick:o}=we(),{registerTick:C}=we(),{registerTimeout:g,removeTimeout:D}=Pe(),{registerTimeout:h,removeTimeout:B}=Pe(),w=T(null),k=T(null),A=T(e.modelValue),M=T(!1),N=T(!0),U=T(!1),j=T(!1),v=[],_=T(0),E=T(!1);let O=null,F=null,s;const P=S(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Mt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),V=S(()=>{const a=_.value,r=A.value;for(let u=0;u<a;u++)if(v[u].name.value===r)return!0;return!1}),Q=S(()=>`q-tabs__content--align-${M.value===!0?"left":j.value===!0?"justify":e.align}`),ee=S(()=>`q-tabs row no-wrap items-center q-tabs--${M.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),te=S(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Q.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),i=S(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),q=S(()=>e.vertical!==!0&&d.lang.rtl===!0),z=S(()=>At===!1&&q.value===!0);le(q,Z),le(()=>e.modelValue,a=>{H({name:a,setCurrent:!0,skipEmit:!0})}),le(()=>e.outsideArrows,se);function H({name:a,setCurrent:r,skipEmit:u}){A.value!==a&&(u!==!0&&e["onUpdate:modelValue"]!==void 0&&p("update:modelValue",a),(r===!0||e["onUpdate:modelValue"]===void 0)&&(Ue(A.value,a),A.value=a))}function se(){n(()=>{w.value&&Se({width:w.value.offsetWidth,height:w.value.offsetHeight})})}function Se(a){if(i.value===void 0||k.value===null)return;const r=a[i.value.container],u=Math.min(k.value[i.value.scroll],Array.prototype.reduce.call(k.value.children,($,y)=>$+(y[i.value.content]||0),0)),R=r>0&&u>r;M.value=R,R===!0&&o(Z),j.value=r<parseInt(e.breakpoint,10)}function Ue(a,r){const u=a!=null&&a!==""?v.find($=>$.name.value===a):null,R=r!=null&&r!==""?v.find($=>$.name.value===r):null;if(re===!0)re=!1;else if(u&&R){const $=u.tabIndicatorRef.value,y=R.tabIndicatorRef.value;O!==null&&(clearTimeout(O),O=null),$.style.transition="none",$.style.transform="none",y.style.transition="none",y.style.transform="none";const b=$.getBoundingClientRect(),x=y.getBoundingClientRect();y.style.transform=e.vertical===!0?`translate3d(0,${b.top-x.top}px,0) scale3d(1,${x.height?b.height/x.height:1},1)`:`translate3d(${b.left-x.left}px,0,0) scale3d(${x.width?b.width/x.width:1},1,1)`,C(()=>{O=setTimeout(()=>{O=null,y.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",y.style.transform="none"},70)})}R&&M.value===!0&&J(R.rootRef.value)}function J(a){const{left:r,width:u,top:R,height:$}=k.value.getBoundingClientRect(),y=a.getBoundingClientRect();let b=e.vertical===!0?y.top-R:y.left-r;if(b<0){k.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(b),Z();return}b+=e.vertical===!0?y.height-$:y.width-u,b>0&&(k.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(b),Z())}function Z(){const a=k.value;if(a===null)return;const r=a.getBoundingClientRect(),u=e.vertical===!0?a.scrollTop:Math.abs(a.scrollLeft);q.value===!0?(N.value=Math.ceil(u+r.width)<a.scrollWidth-1,U.value=u>0):(N.value=u>0,U.value=e.vertical===!0?Math.ceil(u+r.height)<a.scrollHeight:Math.ceil(u+r.width)<a.scrollWidth)}function ke(a){F!==null&&clearInterval(F),F=setInterval(()=>{Ke(a)===!0&&X()},5)}function Ve(){ke(z.value===!0?Number.MAX_SAFE_INTEGER:0)}function Ae(){ke(z.value===!0?0:Number.MAX_SAFE_INTEGER)}function X(){F!==null&&(clearInterval(F),F=null)}function Fe(a,r){const u=Array.prototype.filter.call(k.value.children,x=>x===r||x.matches&&x.matches(".q-tab.q-focusable")===!0),R=u.length;if(R===0)return;if(a===36)return J(u[0]),u[0].focus(),!0;if(a===35)return J(u[R-1]),u[R-1].focus(),!0;const $=a===(e.vertical===!0?38:37),y=a===(e.vertical===!0?40:39),b=$===!0?-1:y===!0?1:void 0;if(b!==void 0){const x=q.value===!0?-1:1,K=u.indexOf(r)+b*x;return K>=0&&K<R&&(J(u[K]),u[K].focus({preventScroll:!0})),!0}}const je=S(()=>z.value===!0?{get:a=>Math.abs(a.scrollLeft),set:(a,r)=>{a.scrollLeft=-r}}:e.vertical===!0?{get:a=>a.scrollTop,set:(a,r)=>{a.scrollTop=r}}:{get:a=>a.scrollLeft,set:(a,r)=>{a.scrollLeft=r}});function Ke(a){const r=k.value,{get:u,set:R}=je.value;let $=!1,y=u(r);const b=a<y?-1:1;return y+=b*5,y<0?($=!0,y=0):(b===-1&&y<=a||b===1&&y>=a)&&($=!0,y=a),R(r,y),Z(),$}function Re(a,r){for(const u in a)if(a[u]!==r[u])return!1;return!0}function We(){let a=null,r={matchedLen:0,queryDiff:9999,hrefLen:0};const u=v.filter(b=>b.routeData?.hasRouterLink.value===!0),{hash:R,query:$}=c.$route,y=Object.keys($).length;for(const b of u){const x=b.routeData.exact.value===!0;if(b.routeData[x===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:K,query:be,matched:Je,href:Ze}=b.routeData.resolvedLink.value,ge=Object.keys(be).length;if(x===!0){if(K!==R||ge!==y||Re($,be)===!1)continue;a=b.name.value;break}if(K!==""&&K!==R||ge!==0&&Re(be,$)===!1)continue;const G={matchedLen:Je.length,queryDiff:y-ge,hrefLen:Ze.length-K.length};if(G.matchedLen>r.matchedLen){a=b.name.value,r=G;continue}else if(G.matchedLen!==r.matchedLen)continue;if(G.queryDiff<r.queryDiff)a=b.name.value,r=G;else if(G.queryDiff!==r.queryDiff)continue;G.hrefLen>r.hrefLen&&(a=b.name.value,r=G)}if(a===null&&v.some(b=>b.routeData===void 0&&b.name.value===A.value)===!0){re=!1;return}H({name:a,setCurrent:!0})}function He(a){if(D(),E.value!==!0&&w.value!==null&&a.target&&typeof a.target.closest=="function"){const r=a.target.closest(".q-tab");r&&w.value.contains(r)===!0&&(E.value=!0,M.value===!0&&J(r))}}function Xe(){g(()=>{E.value=!1},30)}function oe(){_e.avoidRouteWatcher===!1?h(We):B()}function $e(){if(s===void 0){const a=le(()=>c.$route.fullPath,oe);s=()=>{a(),s=void 0}}}function Ge(a){v.push(a),_.value++,se(),a.routeData===void 0||c.$route===void 0?h(()=>{if(M.value===!0){const r=A.value,u=r!=null&&r!==""?v.find(R=>R.name.value===r):null;u&&J(u.rootRef.value)}}):($e(),a.routeData.hasRouterLink.value===!0&&oe())}function Ye(a){v.splice(v.indexOf(a),1),_.value--,se(),s!==void 0&&a.routeData!==void 0&&(v.every(r=>r.routeData===void 0)===!0&&s(),oe())}const _e={currentModel:A,tabProps:P,hasFocus:E,hasActiveTab:V,registerTab:Ge,unregisterTab:Ye,verifyRouteModel:oe,updateModel:H,onKbdNavigate:Fe,avoidRouteWatcher:!1};it(Qe,_e);function Ie(){O!==null&&clearTimeout(O),X(),s?.()}let Le,re;return Ne(Ie),st(()=>{Le=s!==void 0,Ie()}),rt(()=>{Le===!0&&($e(),re=!0,oe()),se()}),()=>L("div",{ref:w,class:ee.value,role:"tablist",onFocusin:He,onFocusout:Xe},[L(Vt,{onResize:Se}),L("div",{ref:k,class:te.value,onScroll:Z},pe(t.default)),L(I,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(N.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||d.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Ve,onTouchstartPassive:Ve,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X}),L(I,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(U.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||d.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Ae,onTouchstartPassive:Ae,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X})])}});function Ot(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((p,c)=>{const d=parseFloat(p);d&&(t[c]=d)}),t}const Qt=ut({name:"touch-swipe",beforeMount(e,{value:t,arg:p,modifiers:c}){if(c.mouse!==!0&&ne.has.touch!==!0)return;const d=c.mouseCapture===!0?"Capture":"",n={handler:t,sensitivity:Ot(p),direction:Ee(c),noop:ct,mouseStart(o){xe(o,n)&&dt(o)&&(ie(n,"temp",[[document,"mousemove","move",`notPassive${d}`],[document,"mouseup","end","notPassiveCapture"]]),n.start(o,!0))},touchStart(o){if(xe(o,n)){const C=o.target;ie(n,"temp",[[C,"touchmove","move","notPassiveCapture"],[C,"touchcancel","end","notPassiveCapture"],[C,"touchend","end","notPassiveCapture"]]),n.start(o)}},start(o,C){ne.is.firefox===!0&&Ce(e,!0);const g=Be(o);n.event={x:g.left,y:g.top,time:Date.now(),mouse:C===!0,dir:!1}},move(o){if(n.event===void 0)return;if(n.event.dir!==!1){fe(o);return}const C=Date.now()-n.event.time;if(C===0)return;const g=Be(o),D=g.left-n.event.x,h=Math.abs(D),B=g.top-n.event.y,w=Math.abs(B);if(n.event.mouse!==!0){if(h<n.sensitivity[1]&&w<n.sensitivity[1]){n.end(o);return}}else if(window.getSelection().toString()!==""){n.end(o);return}else if(h<n.sensitivity[2]&&w<n.sensitivity[2])return;const k=h/C,A=w/C;n.direction.vertical===!0&&h<w&&h<100&&A>n.sensitivity[0]&&(n.event.dir=B<0?"up":"down"),n.direction.horizontal===!0&&h>w&&w<100&&k>n.sensitivity[0]&&(n.event.dir=D<0?"left":"right"),n.direction.up===!0&&h<w&&B<0&&h<100&&A>n.sensitivity[0]&&(n.event.dir="up"),n.direction.down===!0&&h<w&&B>0&&h<100&&A>n.sensitivity[0]&&(n.event.dir="down"),n.direction.left===!0&&h>w&&D<0&&w<100&&k>n.sensitivity[0]&&(n.event.dir="left"),n.direction.right===!0&&h>w&&D>0&&w<100&&k>n.sensitivity[0]&&(n.event.dir="right"),n.event.dir!==!1?(fe(o),n.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Rt(),n.styleCleanup=M=>{n.styleCleanup=void 0,document.body.classList.remove("non-selectable");const N=()=>{document.body.classList.remove("no-pointer-events--children")};M===!0?setTimeout(N,50):N()}),n.handler({evt:o,touch:n.event.mouse!==!0,mouse:n.event.mouse,direction:n.event.dir,duration:C,distance:{x:h,y:w}})):n.end(o)},end(o){n.event!==void 0&&(ye(n,"temp"),ne.is.firefox===!0&&Ce(e,!1),n.styleCleanup?.(!0),o!==void 0&&n.event.dir!==!1&&fe(o),n.event=void 0)}};if(e.__qtouchswipe=n,c.mouse===!0){const o=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";ie(n,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}ne.has.touch===!0&&ie(n,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const p=e.__qtouchswipe;p!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&p.end(),p.handler=t.value),p.direction=Ee(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(ye(t,"main"),ye(t,"temp"),ne.is.firefox===!0&&Ce(e,!1),t.styleCleanup?.(),delete e.__qtouchswipe)}});function Nt(){let e=Object.create(null);return{getCache:(t,p)=>e[t]===void 0?e[t]=typeof p=="function"?p():p:e[t],setCache(t,p){e[t]=p},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const zt={name:{required:!0},disable:Boolean},Oe={setup(e,{slots:t}){return()=>L("div",{class:"q-panel scroll",role:"tabpanel"},pe(t.default))}},Ut={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ft=["update:modelValue","beforeTransition","transition"];function jt(){const{props:e,emit:t,proxy:p}=ve(),{getCache:c}=Nt(),{registerTimeout:d}=Pe();let n,o;const C=T(null),g={value:null};function D(i){const q=e.vertical===!0?"up":"left";s((p.$q.lang.rtl===!0?-1:1)*(i.direction===q?1:-1))}const h=S(()=>[[Qt,D,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),B=S(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),w=S(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),k=S(()=>`--q-transition-duration: ${e.transitionDuration}ms`),A=S(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),M=S(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),N=S(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);le(()=>e.modelValue,(i,q)=>{const z=_(i)===!0?E(i):-1;o!==!0&&F(z===-1?0:z<E(q)?-1:1),g.value!==z&&(g.value=z,t("beforeTransition",i,q),d(()=>{t("transition",i,q)},e.transitionDuration))});function U(){s(1)}function j(){s(-1)}function v(i){t("update:modelValue",i)}function _(i){return i!=null&&i!==""}function E(i){return n.findIndex(q=>q.props.name===i&&q.props.disable!==""&&q.props.disable!==!0)}function O(){return n.filter(i=>i.props.disable!==""&&i.props.disable!==!0)}function F(i){const q=i!==0&&e.animated===!0&&g.value!==-1?"q-transition--"+(i===-1?B.value:w.value):null;C.value!==q&&(C.value=q)}function s(i,q=g.value){let z=q+i;for(;z!==-1&&z<n.length;){const H=n[z];if(H!==void 0&&H.props.disable!==""&&H.props.disable!==!0){F(i),o=!0,t("update:modelValue",H.props.name),setTimeout(()=>{o=!1});return}z+=i}e.infinite===!0&&n.length!==0&&q!==-1&&q!==n.length&&s(i,i===-1?n.length:-1)}function P(){const i=E(e.modelValue);return g.value!==i&&(g.value=i),!0}function V(){const i=_(e.modelValue)===!0&&P()&&n[g.value];return e.keepAlive===!0?[L(mt,M.value,[L(N.value===!0?c(A.value,()=>({...Oe,name:A.value})):Oe,{key:A.value,style:k.value},()=>i)])]:[L("div",{class:"q-panel scroll",style:k.value,key:A.value,role:"tabpanel"},[i])]}function Q(){if(n.length!==0)return e.animated===!0?[L(ft,{name:C.value},V)]:V()}function ee(i){return n=vt(pe(i.default,[])).filter(q=>q.props!==null&&q.props.slot===void 0&&_(q.props.name)===!0),n.length}function te(){return n}return Object.assign(p,{next:U,previous:j,goTo:v}),{panelIndex:g,panelDirectives:h,updatePanelsList:ee,updatePanelIndex:P,getPanelContent:Q,getEnabledPanels:O,getPanels:te,isValidPanelName:_,keepAliveProps:M,needsUniqueKeepAliveWrapper:N,goToPanelByOffset:s,goToPanel:v,nextPanel:U,previousPanel:j}}const Te=me({name:"QTabPanel",props:zt,setup(e,{slots:t}){return()=>L("div",{class:"q-tab-panel",role:"tabpanel"},pe(t.default))}}),Kt=me({name:"QTabPanels",props:{...Ut,...pt},emits:Ft,setup(e,{slots:t}){const p=ve(),c=bt(e,p.proxy.$q),{updatePanelsList:d,getPanelContent:n,panelDirectives:o}=jt(),C=S(()=>"q-tab-panels q-panel-parent"+(c.value===!0?" q-tab-panels--dark q-dark":""));return()=>(d(t),gt("div",{class:C.value},n(),"pan",e.swipeable,()=>o.value))}}),Wt=ht({name:"RegistroPage",setup(){const e=qt(),t=Ct(),p=T(1),c=T({nombre:"",apellidos:"",edad:null,genero:null,email:"",password:"",confirm_password:"",ciudad:"",pais:null,institucion_educativa:"",grado:"",seccion:"",turno:null}),d=T(!1),n=T(!1),o=T(!1),C=T(!1),g=T([]),D=T([]),h=T([]),B=T([]),w=T(!1),k=T(!1),A=["Masculino","Femenino","Otro","Prefiero no decir"],M=["Mañana","Tarde","Noche"],N=S(()=>[s=>!!s||"La contraseña es requerida",s=>s.length>=8||"Mínimo 8 caracteres",s=>/[A-Z]/.test(s)||"Debe contener al menos una mayúscula",s=>/[a-z]/.test(s)||"Debe contener al menos una minúscula",s=>/[0-9]/.test(s)||"Debe contener al menos un número",s=>/[!@#$%^&*(),.?":{}|<>]/.test(s)||"Debe contener al menos un símbolo"]),U=async()=>{w.value=!0;try{const P=await(await fetch("https://restcountries.com/v3.1/all?fields=name,cca2")).json();g.value=P.map(V=>({name:V.name.common,code:V.cca2})).sort((V,Q)=>V.name.localeCompare(Q.name)),h.value=g.value,console.log(`Loaded ${g.value.length} countries from REST Countries API`)}catch(s){console.error("Error fetching countries:",s),g.value=[{name:"Perú",code:"PE"},{name:"Argentina",code:"AR"},{name:"Chile",code:"CL"},{name:"Colombia",code:"CO"},{name:"México",code:"MX"},{name:"España",code:"ES"}],h.value=g.value}finally{w.value=!1}},j=s=>{const P=g.value.find(V=>V.code===s);return P?P.name:s},v=async s=>{if(s){k.value=!0;try{const P=await fetch("https://countriesnow.space/api/v0.1/countries/cities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({country:j(s)})});if(P.ok){const V=await P.json();if(console.log("Cities API response:",V),V.data&&V.data.length>0){const Q=[...new Set(V.data)].sort((ee,te)=>ee.localeCompare(te));D.value=Q,B.value=Q,console.log(`Loaded ${Q.length} cities for country: ${s}`)}else D.value=[],B.value=[],console.warn(`No cities found for country: ${s}`)}else console.error("Cities API error:",P.status),D.value=[],B.value=[]}catch(P){console.error("Error fetching cities:",P),D.value=[],B.value=[]}finally{k.value=!1}}},_=(s,P)=>{if(s===""){P(()=>{h.value=g.value});return}P(()=>{const V=s.toLowerCase();h.value=g.value.filter(Q=>Q.name.toLowerCase().indexOf(V)>-1)})},E=(s,P)=>{if(s===""){P(()=>{B.value=D.value});return}P(()=>{const V=s.toLowerCase();B.value=D.value.filter(Q=>Q.toLowerCase().indexOf(V)>-1)})},O=s=>{s&&(c.value.ciudad="",s.code&&(console.log(`Country changed to: ${s.name} (${s.code})`),v(s.code)))},F=async()=>{if(!o.value){ae.create({message:"Debes aceptar los términos y condiciones",color:"warning",icon:"warning",position:"top"});return}C.value=!0;try{const s={...c.value,pais:c.value.pais?.name||c.value.pais,institucion_educativa:c.value.institucion_educativa||null,grado:c.value.grado||null,seccion:c.value.seccion||null,turno:c.value.turno||null};delete s.confirm_password;const P=await t.register(s);if(P.success){ae.create({message:"¡Registro exitoso! Bienvenido a ElijoHoy",color:"positive",icon:"check_circle",position:"top"});const V=localStorage.getItem("testRespuestas");localStorage.getItem("pendingTestFinalization")==="true"?(console.log("Finalización de test pendiente, redirigiendo al test..."),e.push("/dashboard/test")):V?(console.log("Detectadas respuestas de test, se sincronizarán en la página del test..."),ae.create({message:"Respuestas detectadas, continuando con el test...",color:"positive",icon:"save",position:"top"}),e.push("/dashboard/test")):e.push("/dashboard")}else ae.create({message:P.message||"Error al registrar usuario",color:"negative",icon:"error",position:"top"})}catch(s){console.error("Register error:",s),ae.create({message:"Error de conexión. Por favor intenta nuevamente.",color:"negative",icon:"error",position:"top"})}finally{C.value=!1}};return ze(()=>{U()}),{step:p,form:c,showPassword:d,showConfirmPassword:n,acceptTerms:o,loading:C,generoOptions:A,turnoOptions:M,passwordRules:N,filteredCountries:h,filteredCities:B,loadingCountries:w,loadingCities:k,filterCountries:_,filterCities:E,onCountryChange:O,register:F}}}),Ht={class:"register-container"},Xt={class:"register-icon-wrapper q-mb-lg"},Gt={class:"q-gutter-md"},Yt={class:"row q-col-gutter-sm"},Jt={class:"col-12 col-sm-6"},Zt={class:"col-12 col-sm-6"},eo={class:"row q-col-gutter-sm"},to={class:"col-12 col-sm-6"},oo={class:"col-12 col-sm-6"},no={class:"row q-col-gutter-sm"},ao={class:"col-12 col-sm-6"},lo={class:"col-12 col-sm-6"},so={class:"row q-mt-md"},ro={class:"col-12"},io={class:"q-gutter-md"},uo={class:"row q-col-gutter-sm"},co={class:"col-12 col-sm-4"},fo={class:"col-12 col-sm-4"},vo={class:"col-12 col-sm-4"},mo={class:"row q-col-gutter-sm q-mt-md"},po={class:"col-4"},bo={class:"col-4"},go={class:"col-4"},ho={class:"q-gutter-md"},wo={class:"text-white"},yo={class:"row q-col-gutter-sm q-mt-md"},Co={class:"col-6"},qo={class:"col-6"},To={class:"text-body2 text-white"},Po={class:"text-center q-mt-md"};function So(e,t,p,c,d,n){return yt(),wt($t,{class:"register-page"},{default:m(()=>[f("div",Ht,[l(Tt,{class:"register-card glass-card"},{default:m(()=>[l(ue,{class:"text-center q-pb-md"},{default:m(()=>[f("div",Xt,[l(I,{name:"how_to_reg",size:"44px",color:"white"})]),t[24]||(t[24]=f("div",{class:"text-h4 text-weight-bold text-white q-mb-sm"}," ¡Únete a nosotros! ",-1)),t[25]||(t[25]=f("div",{class:"text-body2 text-white-7"}," Completa tu registro en 3 simples pasos ",-1))]),_:1}),l(ue,{class:"q-pt-none q-px-md"},{default:m(()=>[l(xt,{modelValue:e.step,"onUpdate:modelValue":t[0]||(t[0]=o=>e.step=o),dense:"",class:"modern-tabs","active-color":"yellow-9","indicator-color":"yellow-9",align:"justify"},{default:m(()=>[l(qe,{name:1,icon:"person",label:"Datos",class:"tab-step"}),l(qe,{name:2,icon:"school",label:"Institución",disable:e.step<2,class:"tab-step"},null,8,["disable"]),l(qe,{name:3,icon:"lock",label:"Credenciales",disable:e.step<3,class:"tab-step"},null,8,["disable"])]),_:1},8,["modelValue"])]),_:1}),l(ue,{class:"q-pt-sm q-px-md"},{default:m(()=>[l(Kt,{modelValue:e.step,"onUpdate:modelValue":t[23]||(t[23]=o=>e.step=o),animated:"","transition-prev":"slide-right","transition-next":"slide-left",class:"transparent-panels"},{default:m(()=>[l(Te,{name:1,class:"q-pa-none"},{default:m(()=>[f("div",Gt,[f("div",Yt,[f("div",Jt,[l(W,{modelValue:e.form.nombre,"onUpdate:modelValue":t[1]||(t[1]=o=>e.form.nombre=o),label:"Nombre",outlined:"",color:"purple-7",rules:[o=>!!o||"Requerido",o=>o.length>=2||"Mínimo 2 caracteres"],"lazy-rules":"",class:"modern-input"},{prepend:m(()=>[l(I,{name:"badge",color:"purple-7"})]),_:1},8,["modelValue","rules"])]),f("div",Zt,[l(W,{modelValue:e.form.apellidos,"onUpdate:modelValue":t[2]||(t[2]=o=>e.form.apellidos=o),label:"Apellidos",outlined:"",color:"purple-7",rules:[o=>!!o||"Requerido",o=>o.length>=2||"Mínimo 2 caracteres"],"lazy-rules":"",class:"modern-input"},{prepend:m(()=>[l(I,{name:"badge",color:"purple-7"})]),_:1},8,["modelValue","rules"])])]),f("div",eo,[f("div",to,[l(W,{modelValue:e.form.edad,"onUpdate:modelValue":t[3]||(t[3]=o=>e.form.edad=o),modelModifiers:{number:!0},type:"number",label:"Edad",outlined:"",color:"purple-7",rules:[o=>!!o||"Requerido",o=>o>=10&&o<=100||"Edad inválida"],"lazy-rules":"",class:"modern-input"},{prepend:m(()=>[l(I,{name:"cake",color:"purple-7"})]),_:1},8,["modelValue","rules"])]),f("div",oo,[l(de,{modelValue:e.form.genero,"onUpdate:modelValue":t[4]||(t[4]=o=>e.form.genero=o),options:e.generoOptions,label:"Género",outlined:"",color:"purple-7",rules:[o=>!!o||"Requerido"],"lazy-rules":"",class:"modern-input","dropdown-icon":"expand_more"},{prepend:m(()=>[l(I,{name:"wc",color:"purple-7"})]),_:1},8,["modelValue","options","rules"])])]),f("div",no,[f("div",ao,[l(de,{modelValue:e.form.pais,"onUpdate:modelValue":[t[5]||(t[5]=o=>e.form.pais=o),e.onCountryChange],options:e.filteredCountries,"option-label":"name","option-value":"name",label:"País",outlined:"",dense:"","use-input":"","input-debounce":"300",onFilter:e.filterCountries,color:"purple-7",rules:[o=>!!o||"Requerido"],"lazy-rules":"",class:"modern-input",loading:e.loadingCountries},{prepend:m(()=>[l(I,{name:"public",color:"purple-7"})]),"no-option":m(()=>[l(De,null,{default:m(()=>[l(Me,{class:"text-grey"},{default:m(()=>[...t[26]||(t[26]=[ce(" No se encontraron países ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue","rules","loading"])]),f("div",lo,[l(de,{modelValue:e.form.ciudad,"onUpdate:modelValue":t[6]||(t[6]=o=>e.form.ciudad=o),options:e.filteredCities,label:"Ciudad",outlined:"",dense:"","use-input":"","input-debounce":"300",onFilter:e.filterCities,color:"purple-7",rules:[o=>!!o||"Requerido"],"lazy-rules":"",class:"modern-input",loading:e.loadingCities,disable:!e.form.pais},{prepend:m(()=>[l(I,{name:"location_city",color:"purple-7"})]),"no-option":m(()=>[l(De,null,{default:m(()=>[l(Me,{class:"text-grey"},{default:m(()=>[ce(Pt(e.form.pais?"No se encontraron ciudades":"Selecciona un país primero"),1)]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","rules","loading","disable"])])]),f("div",so,[f("div",ro,[l(Y,{unelevated:"",onClick:t[7]||(t[7]=o=>e.step=2),color:"yellow-9","text-color":"purple-10",label:"Siguiente","icon-right":"arrow_forward",class:"btn-gradient full-width","no-caps":""})])])])]),_:1}),l(Te,{name:2,class:"q-pa-none"},{default:m(()=>[f("div",io,[t[27]||(t[27]=f("div",{class:"text-center q-mb-md"},[f("div",{class:"text-caption text-white-7"}," Esta información es opcional y nos ayuda a personalizar tu experiencia ")],-1)),l(W,{modelValue:e.form.institucion_educativa,"onUpdate:modelValue":t[8]||(t[8]=o=>e.form.institucion_educativa=o),label:"Institución Educativa (Opcional)",outlined:"",color:"purple-7",class:"modern-input"},{prepend:m(()=>[l(I,{name:"school",color:"purple-7"})]),_:1},8,["modelValue"]),f("div",uo,[f("div",co,[l(W,{modelValue:e.form.grado,"onUpdate:modelValue":t[9]||(t[9]=o=>e.form.grado=o),label:"Grado (Opcional)",outlined:"",color:"purple-7",class:"modern-input",placeholder:"Ej: 5to"},{prepend:m(()=>[l(I,{name:"grade",color:"purple-7"})]),_:1},8,["modelValue"])]),f("div",fo,[l(W,{modelValue:e.form.seccion,"onUpdate:modelValue":t[10]||(t[10]=o=>e.form.seccion=o),label:"Sección (Opcional)",outlined:"",color:"purple-7",class:"modern-input",placeholder:"Ej: A"},{prepend:m(()=>[l(I,{name:"class",color:"purple-7"})]),_:1},8,["modelValue"])]),f("div",vo,[l(de,{modelValue:e.form.turno,"onUpdate:modelValue":t[11]||(t[11]=o=>e.form.turno=o),options:e.turnoOptions,label:"Turno (Opcional)",outlined:"",color:"purple-7",class:"modern-input"},{prepend:m(()=>[l(I,{name:"schedule",color:"purple-7"})]),_:1},8,["modelValue","options"])])]),f("div",mo,[f("div",po,[l(Y,{flat:"",color:"yellow-9",onClick:t[12]||(t[12]=o=>e.step=1),label:"Anterior",icon:"arrow_back",class:"full-width","no-caps":""})]),f("div",bo,[l(Y,{flat:"",color:"white",onClick:t[13]||(t[13]=o=>e.step=3),label:"Omitir",class:"full-width","no-caps":""})]),f("div",go,[l(Y,{unelevated:"",onClick:t[14]||(t[14]=o=>e.step=3),color:"yellow-9","text-color":"purple-10",label:"Siguiente","icon-right":"arrow_forward",class:"btn-gradient full-width","no-caps":""})])])])]),_:1}),l(Te,{name:3,class:"q-pa-none"},{default:m(()=>[f("div",ho,[l(W,{modelValue:e.form.email,"onUpdate:modelValue":t[15]||(t[15]=o=>e.form.email=o),type:"email",label:"Correo Electrónico",outlined:"",color:"purple-7",rules:[o=>!!o||"Requerido",o=>/.+@.+\..+/.test(o)||"Correo inválido"],"lazy-rules":"",class:"modern-input"},{prepend:m(()=>[l(I,{name:"email",color:"purple-7"})]),_:1},8,["modelValue","rules"]),l(W,{modelValue:e.form.password,"onUpdate:modelValue":t[17]||(t[17]=o=>e.form.password=o),type:e.showPassword?"text":"password",label:"Contraseña",outlined:"",color:"purple-7",rules:e.passwordRules,"lazy-rules":"",class:"modern-input"},{prepend:m(()=>[l(I,{name:"lock",color:"purple-7"})]),append:m(()=>[l(I,{name:e.showPassword?"visibility":"visibility_off",class:"cursor-pointer",color:"purple-7",onClick:t[16]||(t[16]=o=>e.showPassword=!e.showPassword)},null,8,["name"])]),hint:m(()=>[...t[28]||(t[28]=[f("div",{class:"text-caption",style:{color:"#7C3AED"}}," Mín. 8 caracteres, una mayúscula, una minúscula, un número y un símbolo ",-1)])]),_:1},8,["modelValue","type","rules"]),l(W,{modelValue:e.form.confirm_password,"onUpdate:modelValue":t[19]||(t[19]=o=>e.form.confirm_password=o),type:e.showConfirmPassword?"text":"password",label:"Confirmar Contraseña",outlined:"",color:"purple-7",rules:[o=>!!o||"Requerido",o=>o===e.form.password||"Las contraseñas no coinciden"],"lazy-rules":"",class:"modern-input"},{prepend:m(()=>[l(I,{name:"lock_check",color:"purple-7"})]),append:m(()=>[l(I,{name:e.showConfirmPassword?"visibility":"visibility_off",class:"cursor-pointer",color:"purple-7",onClick:t[18]||(t[18]=o=>e.showConfirmPassword=!e.showConfirmPassword)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),l(St,{modelValue:e.acceptTerms,"onUpdate:modelValue":t[21]||(t[21]=o=>e.acceptTerms=o),color:"purple-7",class:"text-white"},{default:m(()=>[f("div",wo,[t[29]||(t[29]=ce(" Acepto los ",-1)),f("a",{href:"#",class:"text-yellow-9 text-weight-bold",onClick:t[20]||(t[20]=kt(()=>{},["prevent"]))},"términos y condiciones")])]),_:1},8,["modelValue"]),f("div",yo,[f("div",Co,[l(Y,{flat:"",color:"yellow-9",onClick:t[22]||(t[22]=o=>e.step=2),label:"Anterior",icon:"arrow_back",class:"full-width","no-caps":""})]),f("div",qo,[l(Y,{unelevated:"",onClick:e.register,color:"yellow-9","text-color":"purple-10",label:"Crear Cuenta","icon-right":"check_circle",class:"btn-gradient full-width",loading:e.loading,disable:!e.acceptTerms,"no-caps":""},null,8,["onClick","loading","disable"])])])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(ue,{class:"text-center q-pt-none"},{default:m(()=>[f("div",To,[t[30]||(t[30]=ce(" ¿Ya tienes cuenta? ",-1)),l(Y,{flat:"","no-caps":"",color:"yellow-9",label:"Inicia sesión aquí",to:"/auth/login",dense:"",class:"text-weight-bold"})])]),_:1})]),_:1}),f("div",Po,[l(Y,{flat:"","no-caps":"",color:"white",label:"Volver al Inicio",to:"/",icon:"arrow_back"})])])]),_:1})}const xo=_t(Wt,[["render",So],["__scopeId","data-v-1f85611c"]]);export{xo as default};
