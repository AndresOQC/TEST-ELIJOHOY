import{r as _,B as S,H as G,af as N,a as I,o as g,w as r,M as Q,h as e,ag as w,g as D,f as o,al as F,I as b,J as l,K as a,Q as d,am as J,k as c,i as u,an as V,j as k}from"./index-FQbhSSz1.js";import{Q as m}from"./QLinearProgress-CusaRVP_.js";import{Q as A}from"./QPage-DPta7qzB.js";import{C as $}from"./ClosePopup-Cw7Yecj0.js";import{u as z}from"./test-UmOr6WCm.js";import{u as j}from"./use-quasar-BN2GYftC.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./test-Bhmt6fEV.js";const B={class:"row justify-center"},M={class:"col-12 col-md-10 col-lg-8"},L={key:0,class:"text-center q-py-xl"},H={key:1},U={class:"main-header-content"},K={class:"avatar-section"},O=["src","alt"],W={class:"info-column"},X={class:"title-header"},Y={class:"text-h3 text-weight-bold"},Z={class:"text-h5 q-mt-xs"},ee={class:"dimensions-wrapper"},se={class:"q-gutter-sm"},te={class:"row items-center q-mb-xs no-wrap"},oe={class:"col text-weight-medium dimension-label"},ae={class:"dimension-score"},ie={class:"row items-center q-mb-xs no-wrap"},re={class:"col text-weight-medium dimension-label"},ne={class:"dimension-score"},le={class:"row items-center q-mb-xs no-wrap"},de={class:"col text-weight-medium dimension-label"},ce={class:"dimension-score"},ue={class:"row items-center q-mb-xs no-wrap"},me={class:"col text-weight-medium dimension-label"},pe={class:"dimension-score"},ve={class:"description-wrapper q-mt-md"},_e={class:"text-body2 description-text"},ge={class:"text-center q-mb-lg"},be={class:"text-h5 text-weight-bold"},he={class:"text-h6 text-weight-bold q-mt-md q-mb-sm text-positive"},xe={class:"text-body1"},fe={class:"text-h6 text-weight-bold q-mt-md q-mb-sm text-warning"},we={class:"text-body1"},ye={class:"text-h6 text-weight-bold q-mt-md q-mb-sm"},qe={class:"text-body1"},Pe={class:"text-h6 text-weight-bold q-mt-md q-mb-sm"},Te={class:"text-body1"},Ee={class:"text-center"},Ce={class:"text-h4 text-weight-bold text-primary"},Se={class:"q-mt-lg text-center"},Ge={__name:"TestResultadosDetailPage",setup(Ne){const y=N(),q=Q(),h=z(),x=j(),p=_(!1),t=_(null),v=_(!1),P={INTJ:{nombre:"Arquitecto",grupo:"G1"},INTP:{nombre:"Lógico",grupo:"G1"},ENTJ:{nombre:"Comandante",grupo:"G1"},ENTP:{nombre:"Debatiente",grupo:"G1"},INFJ:{nombre:"Defensor",grupo:"G2"},INFP:{nombre:"Mediador",grupo:"G2"},ENFJ:{nombre:"Protagonista",grupo:"G2"},ENFP:{nombre:"Activista",grupo:"G2"},ISTJ:{nombre:"Logístico",grupo:"G3"},ISFJ:{nombre:"Defensor",grupo:"G3"},ESTJ:{nombre:"Ejecutivo",grupo:"G3"},ESFJ:{nombre:"Cónsul",grupo:"G3"},ISTP:{nombre:"Virtuoso",grupo:"G4"},ISFP:{nombre:"Aventurero",grupo:"G4"},ESTP:{nombre:"Emprendedor",grupo:"G4"},ESFP:{nombre:"Animador",grupo:"G4"}},f=S(()=>{if(!t.value)return"";const i=t.value.tipo.codigo,s=P[i];return s?`/AVATAR/${`${i} ${s.nombre}_${s.grupo}.png`}`:(console.warn(`No se encontró mapeo de avatar para el código: ${i}`),"")}),T=i=>{console.error("Error cargando avatar:",f.value),i.target.style.display="none"};G(async()=>{await E()});async function E(){try{p.value=!0;const i=y.params.id,s=await h.obtenerResultados(i);s.success&&(t.value=s.perfil)}catch(i){x.notify({type:"negative",message:i.message||"Error al cargar resultados"})}finally{p.value=!1}}async function C(){try{await h.reiniciarTest(),q.push("/dashboard/test")}catch{x.notify({type:"negative",message:"Error al iniciar test"})}}return(i,s)=>(g(),I(A,{class:"q-pa-md"},{default:r(()=>[e("div",B,[e("div",M,[p.value?(g(),w("div",L,[o(F,{color:"primary",size:"50px"}),s[3]||(s[3]=e("p",{class:"text-body1 text-grey-7 q-mt-md"},"Cargando resultados...",-1))])):t.value?(g(),w("div",H,[o(b,{class:"q-mb-lg result-card-fullheight",flat:"",bordered:""},{default:r(()=>[o(l,{class:"bg-primary text-white"},{default:r(()=>[e("div",U,[e("div",K,[e("img",{src:f.value,alt:t.value.tipo.nombre,class:"avatar-image",onError:T},null,40,O)]),e("div",W,[e("div",X,[e("div",Y,a(t.value.tipo.nombre),1),e("div",Z,a(t.value.tipo.codigo),1)]),e("div",ee,[s[4]||(s[4]=e("div",{class:"text-h6 text-weight-bold q-mb-md"},"Tus Dimensiones",-1)),e("div",se,[e("div",null,[e("div",te,[e("div",oe,a(t.value.dimensiones.extraversion_introversion),1),e("div",ae," Puntuación: "+a(t.value.puntuaciones.IE),1)]),o(m,{value:(t.value.puntuaciones.IE-8)/30,color:"purple-4",size:"10px",class:"rounded-progress"},null,8,["value"])]),e("div",null,[e("div",ie,[e("div",re,a(t.value.dimensiones.intuicion_sensacion),1),e("div",ne," Puntuación: "+a(t.value.puntuaciones.SN),1)]),o(m,{value:(t.value.puntuaciones.SN-4)/40,color:"blue-4",size:"10px",class:"rounded-progress"},null,8,["value"])]),e("div",null,[e("div",le,[e("div",de,a(t.value.dimensiones.pensamiento_sentimiento),1),e("div",ce," Puntuación: "+a(t.value.puntuaciones.FT),1)]),o(m,{value:(t.value.puntuaciones.FT-8)/30,color:"green-4",size:"10px",class:"rounded-progress"},null,8,["value"])]),e("div",null,[e("div",ue,[e("div",me,a(t.value.dimensiones.percepcion_juicio),1),e("div",pe," Puntuación: "+a(t.value.puntuaciones.JP),1)]),o(m,{value:(t.value.puntuaciones.JP-10)/30,color:"orange-4",size:"10px",class:"rounded-progress"},null,8,["value"])])])]),e("div",ve,[s[5]||(s[5]=e("div",{class:"text-h6 text-weight-bold q-mb-sm"},"Descripción",-1)),e("p",_e,a(t.value.tipo.descripcion_completa),1)])])])]),_:1})]),_:1}),e("div",ge,[o(d,{label:"Ver Descripción Completa",icon:"article",color:"primary",size:"md",unelevated:"",onClick:s[0]||(s[0]=n=>v.value=!0)})]),o(J,{modelValue:v.value,"onUpdate:modelValue":s[1]||(s[1]=n=>v.value=n)},{default:r(()=>[o(b,{style:{"min-width":"350px","max-width":"700px"}},{default:r(()=>[o(l,{class:"bg-primary text-white"},{default:r(()=>[e("div",be,a(t.value.tipo.nombre)+" - "+a(t.value.tipo.codigo),1)]),_:1}),o(l,{class:"q-pt-md",style:{"max-height":"60vh","overflow-y":"auto"}},{default:r(()=>[e("div",he,[o(u,{name:"star"}),s[6]||(s[6]=c(" Fortalezas ",-1))]),e("p",xe,a(t.value.tipo.fortalezas),1),e("div",fe,[o(u,{name:"warning"}),s[7]||(s[7]=c(" Áreas de Mejora ",-1))]),e("p",we,a(t.value.tipo.debilidades),1),e("div",ye,[o(u,{name:"work"}),s[8]||(s[8]=c(" Carreras Sugeridas ",-1))]),e("p",qe,a(t.value.tipo.carreras_sugeridas),1),e("div",Pe,[o(u,{name:"people"}),s[9]||(s[9]=c(" Personas Famosas ",-1))]),e("p",Te,a(t.value.tipo.famosos_tipo),1)]),_:1}),o(V,{align:"right"},{default:r(()=>[k(o(d,{flat:"",label:"Cerrar",color:"primary"},null,512),[[$]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(b,{flat:"",bordered:""},{default:r(()=>[o(l,{class:"bg-grey-2"},{default:r(()=>[e("div",Ee,[s[10]||(s[10]=e("div",{class:"text-subtitle1 text-grey-7"},"Porcentaje de la población",-1)),e("div",Ce,a(t.value.tipo.porcentaje_poblacion)+"% ",1)])]),_:1})]),_:1}),e("div",Se,[o(d,{label:"Hacer Test Nuevamente",color:"primary",onClick:C,class:"q-mr-sm"}),o(d,{label:"Ver Mis Tests",color:"secondary",onClick:s[2]||(s[2]=n=>i.$router.push("/dashboard/test-resultados")),outline:""})])])):D("",!0)])])]),_:1}))}},$e=R(Ge,[["__scopeId","data-v-b10993d3"]]);export{$e as default};
