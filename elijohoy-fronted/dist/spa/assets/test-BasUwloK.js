import{aQ as s}from"./index-B0DP0xMs.js";const n={async obtenerPreguntas(){try{return(await s.get("/test/preguntas")).data}catch(e){throw e.response?.data||e}},async iniciarTest(){try{await new Promise(r=>setTimeout(r,100));const e=sessionStorage.getItem("access_token");if(console.log("🔍 Iniciando test - Token en sessionStorage:",!!e),console.log("🔍 Token completo:",e?e.substring(0,50)+"...":"null"),!e)throw new Error("No hay token de autenticación disponible");const t=await s.post("/test/iniciar",{},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});return console.log("🔍 Respuesta del servidor:",t.data),t.data}catch(e){throw console.error("❌ Error en iniciarTest:",e),e.response?.data||e}},async guardarRespuesta(e){try{return console.log("🔍 Guardando respuesta - Token en sessionStorage:",!!sessionStorage.getItem("access_token")),(await s.post("/test/responder",e)).data}catch(t){throw console.error("❌ Error en guardarRespuesta:",t),t.response?.data||t}},async finalizarTest(e){try{return(await s.post(`/test/finalizar/${e}`)).data}catch(t){throw t.response?.data||t}},async obtenerMisSesiones(){try{return(await s.get("/test/mis-sesiones")).data}catch(e){throw console.error("❌ Error en obtenerMisSesiones:",e),e.response?.data||e}},async asociarSesion(e){try{const t=sessionStorage.getItem("access_token")||localStorage.getItem("access_token"),r={"Content-Type":"application/json"};return t&&(r.Authorization=`Bearer ${t}`),(await s.post("/test/asociar-sesion",{id_sesion:e},{headers:r})).data}catch(t){throw t.response?.data||t}},async buscarSesionPorId(e){try{return(await s.post("/test/buscar-sesion",{id_sesion:e})).data}catch(t){throw t.response?.data||t}},async obtenerTipos(){try{return(await s.get("/test/tipos")).data}catch(e){throw e.response?.data||e}},async obtenerTipoPorCodigo(e){try{return(await s.get(`/test/tipos/${e}`)).data}catch(t){throw t.response?.data||t}},async obtenerEstadisticas(){try{return(await s.get("/test/estadisticas")).data}catch(e){throw e.response?.data||e}},async obtenerResultados(e){try{return(await s.get(`/test/resultados/${e}`)).data}catch(t){throw console.error("❌ Error en obtenerResultados:",t),t.response?.data||t}},async obtenerTodasPreguntas(){try{return(await s.get("/test/admin/preguntas")).data}catch(e){throw e.response?.data||e}},async crearPregunta(e){try{return(await s.post("/test/admin/preguntas",e)).data}catch(t){throw t.response?.data||t}},async actualizarPregunta(e,t){try{return(await s.put(`/test/admin/preguntas/${e}`,t)).data}catch(r){throw r.response?.data||r}},async eliminarPregunta(e){try{return(await s.delete(`/test/admin/preguntas/${e}`)).data}catch(t){throw t.response?.data||t}}};export{n as t};
