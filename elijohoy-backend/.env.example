# =============================================================================
# ELIJOHOY BACKEND - CONFIGURACIÓN DE VARIABLES DE ENTORNO
# =============================================================================
# Copia este archivo como .env y configura los valores según tu entorno
# Comando: cp .env.example .env

# =============================================================================
# FLASK CONFIGURATION
# =============================================================================
FLASK_ENV=development
# Opciones: development, production, testing

SECRET_KEY=dev-secret-key-change-in-production-CHANGE-THIS
# Clave secreta para Flask (usar generador seguro en producción)

PORT=5001
# Puerto donde correrá el backend

# =============================================================================
# JWT (JSON WEB TOKENS)
# =============================================================================
JWT_SECRET_KEY=jwt-secret-change-in-production-CHANGE-THIS
# Clave secreta para JWT (diferente a SECRET_KEY)

JWT_REFRESH_TOKEN_EXPIRES=2592000
# Tiempo de expiración del refresh token en segundos (default: 30 días)

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# DESARROLLO (Docker Compose)
DATABASE_URL=postgresql://elijohoy_user:elijohoy_password@db:5432/elijohoy_db

# PRODUCCIÓN (cambiar según tu servidor)
# DATABASE_URL=postgresql://user:password@host:5432/database

# =============================================================================
# CORS - ORIGENES PERMITIDOS
# =============================================================================
# Desarrollo: incluir localhost con puertos
ALLOWED_ORIGINS=http://localhost:9000,http://127.0.0.1:9000,http://localhost:80

# Producción: usar tu dominio real
# ALLOWED_ORIGINS=https://elijohoy.com,https://www.elijohoy.com

# =============================================================================
# FRONTEND URLs
# =============================================================================
# URL del frontend para enlaces en emails y CORS
FRONTEND_URL=http://localhost:9000

# URL específica para reseteo de contraseña
PASSWORD_RESET_URL=http://localhost:9000/auth/restablecer-password

# Tiempo de expiración del token de reseteo (segundos)
PASSWORD_RESET_TOKEN_EXPIRES=3600

# =============================================================================
# EMAIL CONFIGURATION (Gmail)
# =============================================================================
# Servidor SMTP
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USE_SSL=false

# Credenciales de Gmail
MAIL_USERNAME=tu-email@gmail.com
# Para Gmail, necesitas una "Contraseña de aplicación" no tu contraseña normal
# Instrucciones: https://support.google.com/accounts/answer/185833
MAIL_PASSWORD=tu-app-password-de-16-caracteres

# Remitente por defecto
MAIL_DEFAULT_SENDER=tu-email@gmail.com

# =============================================================================
# RATE LIMITING (Opcional)
# =============================================================================
RATELIMIT_STORAGE_URL=memory://
# Para producción con múltiples workers, usar Redis:
# RATELIMIT_STORAGE_URL=redis://localhost:6379

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
# Opciones: DEBUG, INFO, WARNING, ERROR, CRITICAL

LOG_FILE=logs/app.log
# Ruta del archivo de logs

# =============================================================================
# NOTAS DE CONFIGURACIÓN
# =============================================================================
#
# DESARROLLO:
# - Usar docker-compose.yml: docker compose up
# - Frontend: http://localhost:9000
# - Backend: http://localhost:5001
# - Database: localhost:5433 (mapeado desde 5432 interno)
#
# PRODUCCIÓN:
# - Usar docker-compose.prod.yml: docker compose -f docker-compose.prod.yml up -d
# - Cambiar FLASK_ENV a "production"
# - Usar dominios reales en FRONTEND_URL y ALLOWED_ORIGINS
# - Usar contraseñas seguras y diferentes para SECRET_KEY y JWT_SECRET_KEY
# - Configurar DATABASE_URL con tu base de datos de producción
# - Usar Redis para RATELIMIT_STORAGE_URL si tienes múltiples workers
#
# =============================================================================
